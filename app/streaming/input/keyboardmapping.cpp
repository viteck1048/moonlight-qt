#include "streaming/input/keyboardmapping.h"

#include <QtGlobal>

#include <array>

namespace
{

struct ScancodeTokenPair {
    SDL_Scancode scancode;
    const char* token;
};

#define SC_TOKEN(name) { SDL_SCANCODE_##name, "SDL_SCANCODE_" #name }

static const ScancodeTokenPair kScancodeTokenPairs[] = {
    SC_TOKEN(UNKNOWN),
    SC_TOKEN(A),
    SC_TOKEN(B),
    SC_TOKEN(C),
    SC_TOKEN(D),
    SC_TOKEN(E),
    SC_TOKEN(F),
    SC_TOKEN(G),
    SC_TOKEN(H),
    SC_TOKEN(I),
    SC_TOKEN(J),
    SC_TOKEN(K),
    SC_TOKEN(L),
    SC_TOKEN(M),
    SC_TOKEN(N),
    SC_TOKEN(O),
    SC_TOKEN(P),
    SC_TOKEN(Q),
    SC_TOKEN(R),
    SC_TOKEN(S),
    SC_TOKEN(T),
    SC_TOKEN(U),
    SC_TOKEN(V),
    SC_TOKEN(W),
    SC_TOKEN(X),
    SC_TOKEN(Y),
    SC_TOKEN(Z),
    SC_TOKEN(1),
    SC_TOKEN(2),
    SC_TOKEN(3),
    SC_TOKEN(4),
    SC_TOKEN(5),
    SC_TOKEN(6),
    SC_TOKEN(7),
    SC_TOKEN(8),
    SC_TOKEN(9),
    SC_TOKEN(0),
    SC_TOKEN(RETURN),
    SC_TOKEN(ESCAPE),
    SC_TOKEN(BACKSPACE),
    SC_TOKEN(TAB),
    SC_TOKEN(SPACE),
    SC_TOKEN(MINUS),
    SC_TOKEN(EQUALS),
    SC_TOKEN(LEFTBRACKET),
    SC_TOKEN(RIGHTBRACKET),
    SC_TOKEN(BACKSLASH),
    SC_TOKEN(NONUSHASH),
    SC_TOKEN(SEMICOLON),
    SC_TOKEN(APOSTROPHE),
    SC_TOKEN(GRAVE),
    SC_TOKEN(COMMA),
    SC_TOKEN(PERIOD),
    SC_TOKEN(SLASH),
    SC_TOKEN(CAPSLOCK),
    SC_TOKEN(F1),
    SC_TOKEN(F2),
    SC_TOKEN(F3),
    SC_TOKEN(F4),
    SC_TOKEN(F5),
    SC_TOKEN(F6),
    SC_TOKEN(F7),
    SC_TOKEN(F8),
    SC_TOKEN(F9),
    SC_TOKEN(F10),
    SC_TOKEN(F11),
    SC_TOKEN(F12),
    SC_TOKEN(PRINTSCREEN),
    SC_TOKEN(SCROLLLOCK),
    SC_TOKEN(PAUSE),
    SC_TOKEN(INSERT),
    SC_TOKEN(HOME),
    SC_TOKEN(PAGEUP),
    SC_TOKEN(DELETE),
    SC_TOKEN(END),
    SC_TOKEN(PAGEDOWN),
    SC_TOKEN(RIGHT),
    SC_TOKEN(LEFT),
    SC_TOKEN(DOWN),
    SC_TOKEN(UP),
    SC_TOKEN(NUMLOCKCLEAR),
    SC_TOKEN(KP_DIVIDE),
    SC_TOKEN(KP_MULTIPLY),
    SC_TOKEN(KP_MINUS),
    SC_TOKEN(KP_PLUS),
    SC_TOKEN(KP_ENTER),
    SC_TOKEN(KP_1),
    SC_TOKEN(KP_2),
    SC_TOKEN(KP_3),
    SC_TOKEN(KP_4),
    SC_TOKEN(KP_5),
    SC_TOKEN(KP_6),
    SC_TOKEN(KP_7),
    SC_TOKEN(KP_8),
    SC_TOKEN(KP_9),
    SC_TOKEN(KP_0),
    SC_TOKEN(KP_PERIOD),
    SC_TOKEN(NONUSBACKSLASH),
    SC_TOKEN(APPLICATION),
    SC_TOKEN(POWER),
    SC_TOKEN(KP_EQUALS),
    SC_TOKEN(F13),
    SC_TOKEN(F14),
    SC_TOKEN(F15),
    SC_TOKEN(F16),
    SC_TOKEN(F17),
    SC_TOKEN(F18),
    SC_TOKEN(F19),
    SC_TOKEN(F20),
    SC_TOKEN(F21),
    SC_TOKEN(F22),
    SC_TOKEN(F23),
    SC_TOKEN(F24),
    SC_TOKEN(EXECUTE),
    SC_TOKEN(HELP),
    SC_TOKEN(MENU),
    SC_TOKEN(SELECT),
    SC_TOKEN(STOP),
    SC_TOKEN(AGAIN),
    SC_TOKEN(UNDO),
    SC_TOKEN(CUT),
    SC_TOKEN(COPY),
    SC_TOKEN(PASTE),
    SC_TOKEN(FIND),
    SC_TOKEN(MUTE),
    SC_TOKEN(VOLUMEUP),
    SC_TOKEN(VOLUMEDOWN),
    SC_TOKEN(KP_COMMA),
    SC_TOKEN(KP_EQUALSAS400),
    SC_TOKEN(INTERNATIONAL1),
    SC_TOKEN(INTERNATIONAL2),
    SC_TOKEN(INTERNATIONAL3),
    SC_TOKEN(INTERNATIONAL4),
    SC_TOKEN(INTERNATIONAL5),
    SC_TOKEN(INTERNATIONAL6),
    SC_TOKEN(INTERNATIONAL7),
    SC_TOKEN(INTERNATIONAL8),
    SC_TOKEN(INTERNATIONAL9),
    SC_TOKEN(LANG1),
    SC_TOKEN(LANG2),
    SC_TOKEN(LANG3),
    SC_TOKEN(LANG4),
    SC_TOKEN(LANG5),
    SC_TOKEN(LANG6),
    SC_TOKEN(LANG7),
    SC_TOKEN(LANG8),
    SC_TOKEN(LANG9),
    SC_TOKEN(ALTERASE),
    SC_TOKEN(SYSREQ),
    SC_TOKEN(CANCEL),
    SC_TOKEN(CLEAR),
    SC_TOKEN(PRIOR),
    SC_TOKEN(RETURN2),
    SC_TOKEN(SEPARATOR),
    SC_TOKEN(OUT),
    SC_TOKEN(OPER),
    SC_TOKEN(CLEARAGAIN),
    SC_TOKEN(CRSEL),
    SC_TOKEN(EXSEL),
    SC_TOKEN(KP_00),
    SC_TOKEN(KP_000),
    SC_TOKEN(THOUSANDSSEPARATOR),
    SC_TOKEN(DECIMALSEPARATOR),
    SC_TOKEN(CURRENCYUNIT),
    SC_TOKEN(CURRENCYSUBUNIT),
    SC_TOKEN(KP_LEFTPAREN),
    SC_TOKEN(KP_RIGHTPAREN),
    SC_TOKEN(KP_LEFTBRACE),
    SC_TOKEN(KP_RIGHTBRACE),
    SC_TOKEN(KP_TAB),
    SC_TOKEN(KP_BACKSPACE),
    SC_TOKEN(KP_A),
    SC_TOKEN(KP_B),
    SC_TOKEN(KP_C),
    SC_TOKEN(KP_D),
    SC_TOKEN(KP_E),
    SC_TOKEN(KP_F),
    SC_TOKEN(KP_XOR),
    SC_TOKEN(KP_POWER),
    SC_TOKEN(KP_PERCENT),
    SC_TOKEN(KP_LESS),
    SC_TOKEN(KP_GREATER),
    SC_TOKEN(KP_AMPERSAND),
    SC_TOKEN(KP_DBLAMPERSAND),
    SC_TOKEN(KP_VERTICALBAR),
    SC_TOKEN(KP_DBLVERTICALBAR),
    SC_TOKEN(KP_COLON),
    SC_TOKEN(KP_HASH),
    SC_TOKEN(KP_SPACE),
    SC_TOKEN(KP_AT),
    SC_TOKEN(KP_EXCLAM),
    SC_TOKEN(KP_MEMSTORE),
    SC_TOKEN(KP_MEMRECALL),
    SC_TOKEN(KP_MEMCLEAR),
    SC_TOKEN(KP_MEMADD),
    SC_TOKEN(KP_MEMSUBTRACT),
    SC_TOKEN(KP_MEMMULTIPLY),
    SC_TOKEN(KP_MEMDIVIDE),
    SC_TOKEN(KP_PLUSMINUS),
    SC_TOKEN(KP_CLEAR),
    SC_TOKEN(KP_CLEARENTRY),
    SC_TOKEN(KP_BINARY),
    SC_TOKEN(KP_OCTAL),
    SC_TOKEN(KP_DECIMAL),
    SC_TOKEN(KP_HEXADECIMAL),
    SC_TOKEN(LCTRL),
    SC_TOKEN(LSHIFT),
    SC_TOKEN(LALT),
    SC_TOKEN(LGUI),
    SC_TOKEN(RCTRL),
    SC_TOKEN(RSHIFT),
    SC_TOKEN(RALT),
    SC_TOKEN(RGUI),
    SC_TOKEN(MODE),
    SC_TOKEN(AUDIONEXT),
    SC_TOKEN(AUDIOPREV),
    SC_TOKEN(AUDIOSTOP),
    SC_TOKEN(AUDIOPLAY),
    SC_TOKEN(AUDIOMUTE),
    SC_TOKEN(MEDIASELECT),
    SC_TOKEN(WWW),
    SC_TOKEN(MAIL),
    SC_TOKEN(CALCULATOR),
    SC_TOKEN(COMPUTER),
    SC_TOKEN(AC_SEARCH),
    SC_TOKEN(AC_HOME),
    SC_TOKEN(AC_BACK),
    SC_TOKEN(AC_FORWARD),
    SC_TOKEN(AC_STOP),
    SC_TOKEN(AC_REFRESH),
    SC_TOKEN(AC_BOOKMARKS),
    SC_TOKEN(BRIGHTNESSDOWN),
    SC_TOKEN(BRIGHTNESSUP),
    SC_TOKEN(DISPLAYSWITCH),
    SC_TOKEN(KBDILLUMTOGGLE),
    SC_TOKEN(KBDILLUMDOWN),
    SC_TOKEN(KBDILLUMUP),
    SC_TOKEN(EJECT),
    SC_TOKEN(SLEEP),
    SC_TOKEN(APP1),
    SC_TOKEN(APP2),
    SC_TOKEN(AUDIOREWIND),
    SC_TOKEN(AUDIOFASTFORWARD),
    SC_TOKEN(SOFTLEFT),
    SC_TOKEN(SOFTRIGHT),
    SC_TOKEN(CALL),
    SC_TOKEN(ENDCALL),
};

#undef SC_TOKEN

#if defined(_WIN32)
static const SDL_Scancode kNativeScanTable[256] = {
    /* 0x00 */ SDL_SCANCODE_UNKNOWN,
    /* 0x01 */ SDL_SCANCODE_ESCAPE,
    /* 0x02 */ SDL_SCANCODE_1,
    /* 0x03 */ SDL_SCANCODE_2,
    /* 0x04 */ SDL_SCANCODE_3,
    /* 0x05 */ SDL_SCANCODE_4,
    /* 0x06 */ SDL_SCANCODE_5,
    /* 0x07 */ SDL_SCANCODE_6,
    /* 0x08 */ SDL_SCANCODE_7,
    /* 0x09 */ SDL_SCANCODE_8,
    /* 0x0A */ SDL_SCANCODE_9,
    /* 0x0B */ SDL_SCANCODE_0,
    /* 0x0C */ SDL_SCANCODE_MINUS,
    /* 0x0D */ SDL_SCANCODE_EQUALS,
    /* 0x0E */ SDL_SCANCODE_BACKSPACE,
    /* 0x0F */ SDL_SCANCODE_TAB,
    /* 0x10 */ SDL_SCANCODE_Q,
    /* 0x11 */ SDL_SCANCODE_W,
    /* 0x12 */ SDL_SCANCODE_E,
    /* 0x13 */ SDL_SCANCODE_R,
    /* 0x14 */ SDL_SCANCODE_T,
    /* 0x15 */ SDL_SCANCODE_Y,
    /* 0x16 */ SDL_SCANCODE_U,
    /* 0x17 */ SDL_SCANCODE_I,
    /* 0x18 */ SDL_SCANCODE_O,
    /* 0x19 */ SDL_SCANCODE_P,
    /* 0x1A */ SDL_SCANCODE_LEFTBRACKET,
    /* 0x1B */ SDL_SCANCODE_RIGHTBRACKET,
    /* 0x1C */ SDL_SCANCODE_RETURN,
    /* 0x1D */ SDL_SCANCODE_LCTRL,
    /* 0x1E */ SDL_SCANCODE_A,
    /* 0x1F */ SDL_SCANCODE_S,
    /* 0x20 */ SDL_SCANCODE_D,
    /* 0x21 */ SDL_SCANCODE_F,
    /* 0x22 */ SDL_SCANCODE_G,
    /* 0x23 */ SDL_SCANCODE_H,
    /* 0x24 */ SDL_SCANCODE_J,
    /* 0x25 */ SDL_SCANCODE_K,
    /* 0x26 */ SDL_SCANCODE_L,
    /* 0x27 */ SDL_SCANCODE_SEMICOLON,
    /* 0x28 */ SDL_SCANCODE_APOSTROPHE,
    /* 0x29 */ SDL_SCANCODE_GRAVE,
    /* 0x2A */ SDL_SCANCODE_LSHIFT,
    /* 0x2B */ SDL_SCANCODE_BACKSLASH,
    /* 0x2C */ SDL_SCANCODE_Z,
    /* 0x2D */ SDL_SCANCODE_X,
    /* 0x2E */ SDL_SCANCODE_C,
    /* 0x2F */ SDL_SCANCODE_V,
    /* 0x30 */ SDL_SCANCODE_B,
    /* 0x31 */ SDL_SCANCODE_N,
    /* 0x32 */ SDL_SCANCODE_M,
    /* 0x33 */ SDL_SCANCODE_COMMA,
    /* 0x34 */ SDL_SCANCODE_PERIOD,
    /* 0x35 */ SDL_SCANCODE_SLASH,
    /* 0x36 */ SDL_SCANCODE_RSHIFT,
    /* 0x37 */ SDL_SCANCODE_KP_MULTIPLY,
    /* 0x38 */ SDL_SCANCODE_LALT,
    /* 0x39 */ SDL_SCANCODE_SPACE,
    /* 0x3A */ SDL_SCANCODE_CAPSLOCK,
    /* 0x3B */ SDL_SCANCODE_F1,
    /* 0x3C */ SDL_SCANCODE_F2,
    /* 0x3D */ SDL_SCANCODE_F3,
    /* 0x3E */ SDL_SCANCODE_F4,
    /* 0x3F */ SDL_SCANCODE_F5,
    /* 0x40 */ SDL_SCANCODE_F6,
    /* 0x41 */ SDL_SCANCODE_F7,
    /* 0x42 */ SDL_SCANCODE_F8,
    /* 0x43 */ SDL_SCANCODE_F9,
    /* 0x44 */ SDL_SCANCODE_F10,
    /* 0x45 */ SDL_SCANCODE_NUMLOCKCLEAR,
    /* 0x46 */ SDL_SCANCODE_SCROLLLOCK,
    /* 0x47 */ SDL_SCANCODE_KP_7,
    /* 0x48 */ SDL_SCANCODE_KP_8,
    /* 0x49 */ SDL_SCANCODE_KP_9,
    /* 0x4A */ SDL_SCANCODE_KP_MINUS,
    /* 0x4B */ SDL_SCANCODE_KP_4,
    /* 0x4C */ SDL_SCANCODE_KP_5,
    /* 0x4D */ SDL_SCANCODE_KP_6,
    /* 0x4E */ SDL_SCANCODE_KP_PLUS,
    /* 0x4F */ SDL_SCANCODE_KP_1,
    /* 0x50 */ SDL_SCANCODE_KP_2,
    /* 0x51 */ SDL_SCANCODE_KP_3,
    /* 0x52 */ SDL_SCANCODE_KP_0,
    /* 0x53 */ SDL_SCANCODE_KP_PERIOD,
    /* 0x54 */ SDL_SCANCODE_UNKNOWN,
    /* 0x55 */ SDL_SCANCODE_UNKNOWN,
    /* 0x56 */ SDL_SCANCODE_NONUSBACKSLASH,
    /* 0x57 */ SDL_SCANCODE_F11,
    /* 0x58 */ SDL_SCANCODE_F12,
    /* 0x59 */ SDL_SCANCODE_UNKNOWN,
    /* 0x5A */ SDL_SCANCODE_UNKNOWN,
    /* 0x5B */ SDL_SCANCODE_UNKNOWN,
    /* 0x5C */ SDL_SCANCODE_UNKNOWN,
    /* 0x5D */ SDL_SCANCODE_UNKNOWN,
    /* 0x5E */ SDL_SCANCODE_UNKNOWN,
    /* 0x5F */ SDL_SCANCODE_UNKNOWN,
    /* 0x60 */ SDL_SCANCODE_UNKNOWN,
    /* 0x61 */ SDL_SCANCODE_UNKNOWN,
    /* 0x62 */ SDL_SCANCODE_UNKNOWN,
    /* 0x63 */ SDL_SCANCODE_UNKNOWN,
    /* 0x64 */ SDL_SCANCODE_UNKNOWN,
    /* 0x65 */ SDL_SCANCODE_UNKNOWN,
    /* 0x66 */ SDL_SCANCODE_UNKNOWN,
    /* 0x67 */ SDL_SCANCODE_UNKNOWN,
    /* 0x68 */ SDL_SCANCODE_UNKNOWN,
    /* 0x69 */ SDL_SCANCODE_UNKNOWN,
    /* 0x6A */ SDL_SCANCODE_UNKNOWN,
    /* 0x6B */ SDL_SCANCODE_UNKNOWN,
    /* 0x6C */ SDL_SCANCODE_UNKNOWN,
    /* 0x6D */ SDL_SCANCODE_UNKNOWN,
    /* 0x6E */ SDL_SCANCODE_UNKNOWN,
    /* 0x6F */ SDL_SCANCODE_UNKNOWN,
    /* 0x70 */ SDL_SCANCODE_UNKNOWN,
    /* 0x71 */ SDL_SCANCODE_UNKNOWN,
    /* 0x72 */ SDL_SCANCODE_UNKNOWN,
    /* 0x73 */ SDL_SCANCODE_UNKNOWN,
    /* 0x74 */ SDL_SCANCODE_UNKNOWN,
    /* 0x75 */ SDL_SCANCODE_UNKNOWN,
    /* 0x76 */ SDL_SCANCODE_UNKNOWN,
    /* 0x77 */ SDL_SCANCODE_UNKNOWN,
    /* 0x78 */ SDL_SCANCODE_UNKNOWN,
    /* 0x79 */ SDL_SCANCODE_UNKNOWN,
    /* 0x7A */ SDL_SCANCODE_UNKNOWN,
    /* 0x7B */ SDL_SCANCODE_F13,
    /* 0x7C */ SDL_SCANCODE_F14,
    /* 0x7D */ SDL_SCANCODE_F15,
    /* 0x7E */ SDL_SCANCODE_F16,
    /* 0x7F */ SDL_SCANCODE_F17,
    /* 0x80 */ SDL_SCANCODE_F18,
    /* 0x81 */ SDL_SCANCODE_F19,
    /* 0x82 */ SDL_SCANCODE_F20,
    /* 0x83 */ SDL_SCANCODE_F21,
    /* 0x84 */ SDL_SCANCODE_F22,
    /* 0x85 */ SDL_SCANCODE_F23,
    /* 0x86 */ SDL_SCANCODE_F24,
    /* 0x87 */ SDL_SCANCODE_UNKNOWN,
    /* 0x88 */ SDL_SCANCODE_UNKNOWN,
    /* 0x89 */ SDL_SCANCODE_UNKNOWN,
    /* 0x8A */ SDL_SCANCODE_UNKNOWN,
    /* 0x8B */ SDL_SCANCODE_UNKNOWN,
    /* 0x8C */ SDL_SCANCODE_UNKNOWN,
    /* 0x8D */ SDL_SCANCODE_UNKNOWN,
    /* 0x8E */ SDL_SCANCODE_UNKNOWN,
    /* 0x8F */ SDL_SCANCODE_UNKNOWN,
    /* 0x90 */ SDL_SCANCODE_UNKNOWN,
    /* 0x91 */ SDL_SCANCODE_UNKNOWN,
    /* 0x92 */ SDL_SCANCODE_UNKNOWN,
    /* 0x93 */ SDL_SCANCODE_UNKNOWN,
    /* 0x94 */ SDL_SCANCODE_UNKNOWN,
    /* 0x95 */ SDL_SCANCODE_UNKNOWN,
    /* 0x96 */ SDL_SCANCODE_UNKNOWN,
    /* 0x97 */ SDL_SCANCODE_UNKNOWN,
    /* 0x98 */ SDL_SCANCODE_UNKNOWN,
    /* 0x99 */ SDL_SCANCODE_UNKNOWN,
    /* 0x9A */ SDL_SCANCODE_UNKNOWN,
    /* 0x9B */ SDL_SCANCODE_UNKNOWN,
    /* 0x9C */ SDL_SCANCODE_UNKNOWN,
    /* 0x9D */ SDL_SCANCODE_UNKNOWN,
    /* 0x9E */ SDL_SCANCODE_UNKNOWN,
    /* 0x9F */ SDL_SCANCODE_UNKNOWN,
    /* 0xA0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xA9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xAA */ SDL_SCANCODE_UNKNOWN,
    /* 0xAB */ SDL_SCANCODE_UNKNOWN,
    /* 0xAC */ SDL_SCANCODE_UNKNOWN,
    /* 0xAD */ SDL_SCANCODE_UNKNOWN,
    /* 0xAE */ SDL_SCANCODE_UNKNOWN,
    /* 0xAF */ SDL_SCANCODE_UNKNOWN,
    /* 0xB0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xB9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xBA */ SDL_SCANCODE_UNKNOWN,
    /* 0xBB */ SDL_SCANCODE_UNKNOWN,
    /* 0xBC */ SDL_SCANCODE_UNKNOWN,
    /* 0xBD */ SDL_SCANCODE_UNKNOWN,
    /* 0xBE */ SDL_SCANCODE_UNKNOWN,
    /* 0xBF */ SDL_SCANCODE_UNKNOWN,
    /* 0xC0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xC9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xCA */ SDL_SCANCODE_UNKNOWN,
    /* 0xCB */ SDL_SCANCODE_UNKNOWN,
    /* 0xCC */ SDL_SCANCODE_UNKNOWN,
    /* 0xCD */ SDL_SCANCODE_UNKNOWN,
    /* 0xCE */ SDL_SCANCODE_UNKNOWN,
    /* 0xCF */ SDL_SCANCODE_UNKNOWN,
    /* 0xD0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xD9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xDA */ SDL_SCANCODE_UNKNOWN,
    /* 0xDB */ SDL_SCANCODE_UNKNOWN,
    /* 0xDC */ SDL_SCANCODE_UNKNOWN,
    /* 0xDD */ SDL_SCANCODE_UNKNOWN,
    /* 0xDE */ SDL_SCANCODE_UNKNOWN,
    /* 0xDF */ SDL_SCANCODE_UNKNOWN,
    /* 0xE0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xE9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xEA */ SDL_SCANCODE_UNKNOWN,
    /* 0xEB */ SDL_SCANCODE_UNKNOWN,
    /* 0xEC */ SDL_SCANCODE_UNKNOWN,
    /* 0xED */ SDL_SCANCODE_UNKNOWN,
    /* 0xEE */ SDL_SCANCODE_UNKNOWN,
    /* 0xEF */ SDL_SCANCODE_UNKNOWN,
    /* 0xF0 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF1 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF2 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF3 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF4 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF5 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF6 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF7 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF8 */ SDL_SCANCODE_UNKNOWN,
    /* 0xF9 */ SDL_SCANCODE_UNKNOWN,
    /* 0xFA */ SDL_SCANCODE_UNKNOWN,
    /* 0xFB */ SDL_SCANCODE_UNKNOWN,
    /* 0xFC */ SDL_SCANCODE_UNKNOWN,
    /* 0xFD */ SDL_SCANCODE_UNKNOWN,
    /* 0xFE */ SDL_SCANCODE_UNKNOWN,
    /* 0xFF */ SDL_SCANCODE_UNKNOWN
};

static const SDL_Scancode kNativeScanTable_2[256] = {
    /* 0 */ SDL_SCANCODE_UNKNOWN,
    /* 1 */ SDL_SCANCODE_UNKNOWN,
    /* 2 */ SDL_SCANCODE_UNKNOWN,
    /* 3 */ SDL_SCANCODE_UNKNOWN,
    /* 4 */ SDL_SCANCODE_UNKNOWN,
    /* 5 */ SDL_SCANCODE_UNKNOWN,
    /* 6 */ SDL_SCANCODE_UNKNOWN,
    /* 7 */ SDL_SCANCODE_UNKNOWN,
    /* 8 */ SDL_SCANCODE_UNKNOWN,
    /* 9 */ SDL_SCANCODE_UNKNOWN,
    /* 10 */ SDL_SCANCODE_UNKNOWN,
    /* 11 */ SDL_SCANCODE_UNKNOWN,
    /* 12 */ SDL_SCANCODE_UNKNOWN,
    /* 13 */ SDL_SCANCODE_UNKNOWN,
    /* 14 */ SDL_SCANCODE_UNKNOWN,
    /* 15 */ SDL_SCANCODE_UNKNOWN,
    /* 16 */ SDL_SCANCODE_UNKNOWN,
    /* 17 */ SDL_SCANCODE_UNKNOWN,
    /* 18 */ SDL_SCANCODE_UNKNOWN,
    /* 19 */ SDL_SCANCODE_UNKNOWN,
    /* 20 */ SDL_SCANCODE_UNKNOWN,
    /* 21 */ SDL_SCANCODE_UNKNOWN,
    /* 22 */ SDL_SCANCODE_UNKNOWN,
    /* 23 */ SDL_SCANCODE_UNKNOWN,
    /* 24 */ SDL_SCANCODE_UNKNOWN,
    /* 25 */ SDL_SCANCODE_UNKNOWN,
    /* 26 */ SDL_SCANCODE_UNKNOWN,
    /* 27 */ SDL_SCANCODE_UNKNOWN,
    /* 28 */ SDL_SCANCODE_KP_ENTER,
    /* 29 */ SDL_SCANCODE_RCTRL,
    /* 30 */ SDL_SCANCODE_UNKNOWN,
    /* 31 */ SDL_SCANCODE_UNKNOWN,
    /* 32 */ SDL_SCANCODE_UNKNOWN,
    /* 33 */ SDL_SCANCODE_UNKNOWN,
    /* 34 */ SDL_SCANCODE_UNKNOWN,
    /* 35 */ SDL_SCANCODE_UNKNOWN,
    /* 36 */ SDL_SCANCODE_UNKNOWN,
    /* 37 */ SDL_SCANCODE_UNKNOWN,
    /* 38 */ SDL_SCANCODE_UNKNOWN,
    /* 39 */ SDL_SCANCODE_UNKNOWN,
    /* 40 */ SDL_SCANCODE_UNKNOWN,
    /* 41 */ SDL_SCANCODE_UNKNOWN,
    /* 42 */ SDL_SCANCODE_UNKNOWN,
    /* 43 */ SDL_SCANCODE_UNKNOWN,
    /* 44 */ SDL_SCANCODE_UNKNOWN,
    /* 45 */ SDL_SCANCODE_UNKNOWN,
    /* 46 */ SDL_SCANCODE_UNKNOWN,
    /* 47 */ SDL_SCANCODE_UNKNOWN,
    /* 48 */ SDL_SCANCODE_UNKNOWN,
    /* 49 */ SDL_SCANCODE_UNKNOWN,
    /* 50 */ SDL_SCANCODE_UNKNOWN,
    /* 51 */ SDL_SCANCODE_UNKNOWN,
    /* 52 */ SDL_SCANCODE_UNKNOWN,
    /* 53 */ SDL_SCANCODE_KP_DIVIDE,
    /* 54 */ SDL_SCANCODE_UNKNOWN,
    /* 55 */ SDL_SCANCODE_UNKNOWN,
    /* 56 */ SDL_SCANCODE_RALT,
    /* 57 */ SDL_SCANCODE_UNKNOWN,
    /* 58 */ SDL_SCANCODE_UNKNOWN,
    /* 59 */ SDL_SCANCODE_UNKNOWN,
    /* 60 */ SDL_SCANCODE_UNKNOWN,
    /* 61 */ SDL_SCANCODE_UNKNOWN,
    /* 62 */ SDL_SCANCODE_UNKNOWN,
    /* 63 */ SDL_SCANCODE_UNKNOWN,
    /* 64 */ SDL_SCANCODE_UNKNOWN,
    /* 65 */ SDL_SCANCODE_UNKNOWN,
    /* 66 */ SDL_SCANCODE_UNKNOWN,
    /* 67 */ SDL_SCANCODE_UNKNOWN,
    /* 68 */ SDL_SCANCODE_UNKNOWN,
    /* 69 */ SDL_SCANCODE_UNKNOWN,
    /* 70 */ SDL_SCANCODE_UNKNOWN,
    /* 71 */ SDL_SCANCODE_HOME,
    /* 72 */ SDL_SCANCODE_UP,
    /* 73 */ SDL_SCANCODE_PAGEUP,
    /* 74 */ SDL_SCANCODE_UNKNOWN,
    /* 75 */ SDL_SCANCODE_LEFT,
    /* 76 */ SDL_SCANCODE_UNKNOWN,
    /* 77 */ SDL_SCANCODE_RIGHT,
    /* 78 */ SDL_SCANCODE_UNKNOWN,
    /* 79 */ SDL_SCANCODE_END,
    /* 80 */ SDL_SCANCODE_DOWN,
    /* 81 */ SDL_SCANCODE_PAGEDOWN,
    /* 82 */ SDL_SCANCODE_INSERT,
    /* 83 */ SDL_SCANCODE_DELETE,
    /* 84 */ SDL_SCANCODE_UNKNOWN,
    /* 85 */ SDL_SCANCODE_UNKNOWN,
    /* 86 */ SDL_SCANCODE_UNKNOWN,
    /* 87 */ SDL_SCANCODE_UNKNOWN,
    /* 88 */ SDL_SCANCODE_UNKNOWN,
    /* 89 */ SDL_SCANCODE_UNKNOWN,
    /* 90 */ SDL_SCANCODE_UNKNOWN,
    /* 91 */ SDL_SCANCODE_LGUI,
    /* 92 */ SDL_SCANCODE_RGUI,
    /* 93 */ SDL_SCANCODE_APPLICATION,
    /* 94 */ SDL_SCANCODE_UNKNOWN,
    /* 95 */ SDL_SCANCODE_UNKNOWN,
    /* 96 */ SDL_SCANCODE_UNKNOWN,
    /* 97 */ SDL_SCANCODE_UNKNOWN,
    /* 98 */ SDL_SCANCODE_UNKNOWN,
    /* 99 */ SDL_SCANCODE_UNKNOWN,
    /* 100 */ SDL_SCANCODE_UNKNOWN,
    /* 101 */ SDL_SCANCODE_UNKNOWN,
    /* 102 */ SDL_SCANCODE_UNKNOWN,
    /* 103 */ SDL_SCANCODE_UNKNOWN,
    /* 104 */ SDL_SCANCODE_UNKNOWN,
    /* 105 */ SDL_SCANCODE_UNKNOWN,
    /* 106 */ SDL_SCANCODE_UNKNOWN,
    /* 107 */ SDL_SCANCODE_UNKNOWN,
    /* 108 */ SDL_SCANCODE_UNKNOWN,
    /* 109 */ SDL_SCANCODE_UNKNOWN,
    /* 110 */ SDL_SCANCODE_UNKNOWN,
    /* 111 */ SDL_SCANCODE_UNKNOWN,
    /* 112 */ SDL_SCANCODE_UNKNOWN,
    /* 113 */ SDL_SCANCODE_UNKNOWN,
    /* 114 */ SDL_SCANCODE_UNKNOWN,
    /* 115 */ SDL_SCANCODE_UNKNOWN,
    /* 116 */ SDL_SCANCODE_UNKNOWN,
    /* 117 */ SDL_SCANCODE_UNKNOWN,
    /* 118 */ SDL_SCANCODE_UNKNOWN,
    /* 119 */ SDL_SCANCODE_UNKNOWN,
    /* 120 */ SDL_SCANCODE_UNKNOWN,
    /* 121 */ SDL_SCANCODE_UNKNOWN,
    /* 122 */ SDL_SCANCODE_UNKNOWN,
    /* 123 */ SDL_SCANCODE_UNKNOWN,
    /* 124 */ SDL_SCANCODE_UNKNOWN,
    /* 125 */ SDL_SCANCODE_UNKNOWN,
    /* 126 */ SDL_SCANCODE_UNKNOWN,
    /* 127 */ SDL_SCANCODE_UNKNOWN,
    /* 128 */ SDL_SCANCODE_UNKNOWN,
    /* 129 */ SDL_SCANCODE_UNKNOWN,
    /* 130 */ SDL_SCANCODE_UNKNOWN,
    /* 131 */ SDL_SCANCODE_UNKNOWN,
    /* 132 */ SDL_SCANCODE_UNKNOWN,
    /* 133 */ SDL_SCANCODE_UNKNOWN,
    /* 134 */ SDL_SCANCODE_UNKNOWN,
    /* 135 */ SDL_SCANCODE_UNKNOWN,
    /* 136 */ SDL_SCANCODE_UNKNOWN,
    /* 137 */ SDL_SCANCODE_UNKNOWN,
    /* 138 */ SDL_SCANCODE_UNKNOWN,
    /* 139 */ SDL_SCANCODE_UNKNOWN,
    /* 140 */ SDL_SCANCODE_UNKNOWN,
    /* 141 */ SDL_SCANCODE_UNKNOWN,
    /* 142 */ SDL_SCANCODE_UNKNOWN,
    /* 143 */ SDL_SCANCODE_UNKNOWN,
    /* 144 */ SDL_SCANCODE_UNKNOWN,
    /* 145 */ SDL_SCANCODE_UNKNOWN,
    /* 146 */ SDL_SCANCODE_UNKNOWN,
    /* 147 */ SDL_SCANCODE_UNKNOWN,
    /* 148 */ SDL_SCANCODE_UNKNOWN,
    /* 149 */ SDL_SCANCODE_UNKNOWN,
    /* 150 */ SDL_SCANCODE_UNKNOWN,
    /* 151 */ SDL_SCANCODE_UNKNOWN,
    /* 152 */ SDL_SCANCODE_UNKNOWN,
    /* 153 */ SDL_SCANCODE_UNKNOWN,
    /* 154 */ SDL_SCANCODE_UNKNOWN,
    /* 155 */ SDL_SCANCODE_UNKNOWN,
    /* 156 */ SDL_SCANCODE_UNKNOWN,
    /* 157 */ SDL_SCANCODE_UNKNOWN,
    /* 158 */ SDL_SCANCODE_UNKNOWN,
    /* 159 */ SDL_SCANCODE_UNKNOWN,
    /* 160 */ SDL_SCANCODE_UNKNOWN,
    /* 161 */ SDL_SCANCODE_UNKNOWN,
    /* 162 */ SDL_SCANCODE_UNKNOWN,
    /* 163 */ SDL_SCANCODE_UNKNOWN,
    /* 164 */ SDL_SCANCODE_UNKNOWN,
    /* 165 */ SDL_SCANCODE_UNKNOWN,
    /* 166 */ SDL_SCANCODE_UNKNOWN,
    /* 167 */ SDL_SCANCODE_UNKNOWN,
    /* 168 */ SDL_SCANCODE_UNKNOWN,
    /* 169 */ SDL_SCANCODE_UNKNOWN,
    /* 170 */ SDL_SCANCODE_UNKNOWN,
    /* 171 */ SDL_SCANCODE_UNKNOWN,
    /* 172 */ SDL_SCANCODE_UNKNOWN,
    /* 173 */ SDL_SCANCODE_UNKNOWN,
    /* 174 */ SDL_SCANCODE_UNKNOWN,
    /* 175 */ SDL_SCANCODE_UNKNOWN,
    /* 176 */ SDL_SCANCODE_UNKNOWN,
    /* 177 */ SDL_SCANCODE_UNKNOWN,
    /* 178 */ SDL_SCANCODE_UNKNOWN,
    /* 179 */ SDL_SCANCODE_UNKNOWN,
    /* 180 */ SDL_SCANCODE_UNKNOWN,
    /* 181 */ SDL_SCANCODE_UNKNOWN,
    /* 182 */ SDL_SCANCODE_UNKNOWN,
    /* 183 */ SDL_SCANCODE_UNKNOWN,
    /* 184 */ SDL_SCANCODE_UNKNOWN,
    /* 185 */ SDL_SCANCODE_UNKNOWN,
    /* 186 */ SDL_SCANCODE_UNKNOWN,
    /* 187 */ SDL_SCANCODE_UNKNOWN,
    /* 188 */ SDL_SCANCODE_UNKNOWN,
    /* 189 */ SDL_SCANCODE_UNKNOWN,
    /* 190 */ SDL_SCANCODE_UNKNOWN,
    /* 191 */ SDL_SCANCODE_UNKNOWN,
    /* 192 */ SDL_SCANCODE_UNKNOWN,
    /* 193 */ SDL_SCANCODE_UNKNOWN,
    /* 194 */ SDL_SCANCODE_UNKNOWN,
    /* 195 */ SDL_SCANCODE_UNKNOWN,
    /* 196 */ SDL_SCANCODE_UNKNOWN,
    /* 197 */ SDL_SCANCODE_UNKNOWN,
    /* 198 */ SDL_SCANCODE_UNKNOWN,
    /* 199 */ SDL_SCANCODE_UNKNOWN,
    /* 200 */ SDL_SCANCODE_UNKNOWN,
    /* 201 */ SDL_SCANCODE_UNKNOWN,
    /* 202 */ SDL_SCANCODE_UNKNOWN,
    /* 203 */ SDL_SCANCODE_UNKNOWN,
    /* 204 */ SDL_SCANCODE_UNKNOWN,
    /* 205 */ SDL_SCANCODE_UNKNOWN,
    /* 206 */ SDL_SCANCODE_UNKNOWN,
    /* 207 */ SDL_SCANCODE_UNKNOWN,
    /* 208 */ SDL_SCANCODE_UNKNOWN,
    /* 209 */ SDL_SCANCODE_UNKNOWN,
    /* 210 */ SDL_SCANCODE_UNKNOWN,
    /* 211 */ SDL_SCANCODE_UNKNOWN,
    /* 212 */ SDL_SCANCODE_UNKNOWN,
    /* 213 */ SDL_SCANCODE_UNKNOWN,
    /* 214 */ SDL_SCANCODE_UNKNOWN,
    /* 215 */ SDL_SCANCODE_UNKNOWN,
    /* 216 */ SDL_SCANCODE_UNKNOWN,
    /* 217 */ SDL_SCANCODE_UNKNOWN,
    /* 218 */ SDL_SCANCODE_UNKNOWN,
    /* 219 */ SDL_SCANCODE_UNKNOWN,
    /* 220 */ SDL_SCANCODE_UNKNOWN,
    /* 221 */ SDL_SCANCODE_UNKNOWN,
    /* 222 */ SDL_SCANCODE_UNKNOWN,
    /* 223 */ SDL_SCANCODE_UNKNOWN,
    /* 224 */ SDL_SCANCODE_UNKNOWN,
    /* 225 */ SDL_SCANCODE_UNKNOWN,
    /* 226 */ SDL_SCANCODE_UNKNOWN,
    /* 227 */ SDL_SCANCODE_UNKNOWN,
    /* 228 */ SDL_SCANCODE_UNKNOWN,
    /* 229 */ SDL_SCANCODE_UNKNOWN,
    /* 230 */ SDL_SCANCODE_UNKNOWN,
    /* 231 */ SDL_SCANCODE_UNKNOWN,
    /* 232 */ SDL_SCANCODE_UNKNOWN,
    /* 233 */ SDL_SCANCODE_UNKNOWN,
    /* 234 */ SDL_SCANCODE_UNKNOWN,
    /* 235 */ SDL_SCANCODE_UNKNOWN,
    /* 236 */ SDL_SCANCODE_UNKNOWN,
    /* 237 */ SDL_SCANCODE_UNKNOWN,
    /* 238 */ SDL_SCANCODE_UNKNOWN,
    /* 239 */ SDL_SCANCODE_UNKNOWN,
    /* 240 */ SDL_SCANCODE_UNKNOWN,
    /* 241 */ SDL_SCANCODE_UNKNOWN,
    /* 242 */ SDL_SCANCODE_UNKNOWN,
    /* 243 */ SDL_SCANCODE_UNKNOWN,
    /* 244 */ SDL_SCANCODE_UNKNOWN,
    /* 245 */ SDL_SCANCODE_UNKNOWN,
    /* 246 */ SDL_SCANCODE_UNKNOWN,
    /* 247 */ SDL_SCANCODE_UNKNOWN,
    /* 248 */ SDL_SCANCODE_UNKNOWN,
    /* 249 */ SDL_SCANCODE_UNKNOWN,
    /* 250 */ SDL_SCANCODE_UNKNOWN,
    /* 251 */ SDL_SCANCODE_UNKNOWN,
    /* 252 */ SDL_SCANCODE_UNKNOWN,
    /* 253 */ SDL_SCANCODE_UNKNOWN,
    /* 254 */ SDL_SCANCODE_UNKNOWN,
    /* 255 */ SDL_SCANCODE_UNKNOWN
};
#elif defined(__APPLE__)
static const SDL_Scancode kNativeScanTable[256] = {
    /* 0 */ SDL_SCANCODE_A,
    /* 1 */ SDL_SCANCODE_S,
    /* 2 */ SDL_SCANCODE_D,
    /* 3 */ SDL_SCANCODE_F,
    /* 4 */ SDL_SCANCODE_H,
    /* 5 */ SDL_SCANCODE_G,
    /* 6 */ SDL_SCANCODE_Z,
    /* 7 */ SDL_SCANCODE_X,
    /* 8 */ SDL_SCANCODE_C,
    /* 9 */ SDL_SCANCODE_V,
    /* 10 */ SDL_SCANCODE_UNKNOWN,
    /* 11 */ SDL_SCANCODE_B,
    /* 12 */ SDL_SCANCODE_Q,
    /* 13 */ SDL_SCANCODE_W,
    /* 14 */ SDL_SCANCODE_E,
    /* 15 */ SDL_SCANCODE_R,
    /* 16 */ SDL_SCANCODE_Y,
    /* 17 */ SDL_SCANCODE_T,
    /* 18 */ SDL_SCANCODE_1,
    /* 19 */ SDL_SCANCODE_2,
    /* 20 */ SDL_SCANCODE_3,
    /* 21 */ SDL_SCANCODE_4,
    /* 22 */ SDL_SCANCODE_6,
    /* 23 */ SDL_SCANCODE_5,
    /* 24 */ SDL_SCANCODE_EQUALS,
    /* 25 */ SDL_SCANCODE_9,
    /* 26 */ SDL_SCANCODE_7,
    /* 27 */ SDL_SCANCODE_MINUS,
    /* 28 */ SDL_SCANCODE_8,
    /* 29 */ SDL_SCANCODE_0,
    /* 30 */ SDL_SCANCODE_RIGHTBRACKET,
    /* 31 */ SDL_SCANCODE_O,
    /* 32 */ SDL_SCANCODE_U,
    /* 33 */ SDL_SCANCODE_LEFTBRACKET,
    /* 34 */ SDL_SCANCODE_I,
    /* 35 */ SDL_SCANCODE_P,
    /* 36 */ SDL_SCANCODE_RETURN,
    /* 37 */ SDL_SCANCODE_L,
    /* 38 */ SDL_SCANCODE_J,
    /* 39 */ SDL_SCANCODE_APOSTROPHE,
    /* 40 */ SDL_SCANCODE_K,
    /* 41 */ SDL_SCANCODE_SEMICOLON,
    /* 42 */ SDL_SCANCODE_BACKSLASH,
    /* 43 */ SDL_SCANCODE_COMMA,
    /* 44 */ SDL_SCANCODE_SLASH,
    /* 45 */ SDL_SCANCODE_N,
    /* 46 */ SDL_SCANCODE_M,
    /* 47 */ SDL_SCANCODE_PERIOD,
    /* 48 */ SDL_SCANCODE_TAB,
    /* 49 */ SDL_SCANCODE_SPACE,
    /* 50 */ SDL_SCANCODE_GRAVE,
    /* 51 */ SDL_SCANCODE_BACKSPACE,
    /* 52 */ SDL_SCANCODE_UNKNOWN,
    /* 53 */ SDL_SCANCODE_ESCAPE,
    /* 54 */ SDL_SCANCODE_UNKNOWN,
    /* 55 */ SDL_SCANCODE_UNKNOWN,
    /* 56 */ SDL_SCANCODE_LSHIFT,
    /* 57 */ SDL_SCANCODE_CAPSLOCK,
    /* 58 */ SDL_SCANCODE_LALT,
    /* 59 */ SDL_SCANCODE_LCTRL,
    /* 60 */ SDL_SCANCODE_UNKNOWN,
    /* 61 */ SDL_SCANCODE_UNKNOWN,
    /* 62 */ SDL_SCANCODE_UNKNOWN,
    /* 63 */ SDL_SCANCODE_UNKNOWN,
    /* 64 */ SDL_SCANCODE_UNKNOWN,
    /* 65 */ SDL_SCANCODE_KP_PERIOD,
    /* 66 */ SDL_SCANCODE_UNKNOWN,
    /* 67 */ SDL_SCANCODE_KP_MULTIPLY,
    /* 68 */ SDL_SCANCODE_UNKNOWN,
    /* 69 */ SDL_SCANCODE_KP_PLUS,
    /* 70 */ SDL_SCANCODE_UNKNOWN,
    /* 71 */ SDL_SCANCODE_NUMLOCKCLEAR,
    /* 72 */ SDL_SCANCODE_UNKNOWN,
    /* 73 */ SDL_SCANCODE_UNKNOWN,
    /* 74 */ SDL_SCANCODE_UNKNOWN,
    /* 75 */ SDL_SCANCODE_KP_DIVIDE,
    /* 76 */ SDL_SCANCODE_KP_ENTER,
    /* 77 */ SDL_SCANCODE_UNKNOWN,
    /* 78 */ SDL_SCANCODE_KP_MINUS,
    /* 79 */ SDL_SCANCODE_UNKNOWN,
    /* 80 */ SDL_SCANCODE_UNKNOWN,
    /* 81 */ SDL_SCANCODE_KP_EQUALS,
    /* 82 */ SDL_SCANCODE_KP_0,
    /* 83 */ SDL_SCANCODE_KP_1,
    /* 84 */ SDL_SCANCODE_KP_2,
    /* 85 */ SDL_SCANCODE_KP_3,
    /* 86 */ SDL_SCANCODE_KP_4,
    /* 87 */ SDL_SCANCODE_KP_5,
    /* 88 */ SDL_SCANCODE_KP_6,
    /* 89 */ SDL_SCANCODE_KP_7,
    /* 90 */ SDL_SCANCODE_UNKNOWN,
    /* 91 */ SDL_SCANCODE_KP_8,
    /* 92 */ SDL_SCANCODE_KP_9,
    /* 93 */ SDL_SCANCODE_UNKNOWN,
    /* 94 */ SDL_SCANCODE_UNKNOWN,
    /* 95 */ SDL_SCANCODE_UNKNOWN,
    /* 96 */ SDL_SCANCODE_F5,
    /* 97 */ SDL_SCANCODE_F6,
    /* 98 */ SDL_SCANCODE_F7,
    /* 99 */ SDL_SCANCODE_F3,
    /* 100 */ SDL_SCANCODE_F8,
    /* 101 */ SDL_SCANCODE_F9,
    /* 102 */ SDL_SCANCODE_UNKNOWN,
    /* 103 */ SDL_SCANCODE_F11,
    /* 104 */ SDL_SCANCODE_UNKNOWN,
    /* 105 */ SDL_SCANCODE_F13,
    /* 106 */ SDL_SCANCODE_UNKNOWN,
    /* 107 */ SDL_SCANCODE_UNKNOWN,
    /* 108 */ SDL_SCANCODE_F14,
    /* 109 */ SDL_SCANCODE_UNKNOWN,
    /* 110 */ SDL_SCANCODE_F10,
    /* 111 */ SDL_SCANCODE_UNKNOWN,
    /* 112 */ SDL_SCANCODE_F12,
    /* 113 */ SDL_SCANCODE_UNKNOWN,
    /* 114 */ SDL_SCANCODE_F15,
    /* 115 */ SDL_SCANCODE_HELP,
    /* 116 */ SDL_SCANCODE_HOME,
    /* 117 */ SDL_SCANCODE_PAGEUP,
    /* 118 */ SDL_SCANCODE_DELETE,
    /* 119 */ SDL_SCANCODE_F4,
    /* 120 */ SDL_SCANCODE_END,
    /* 121 */ SDL_SCANCODE_F2,
    /* 122 */ SDL_SCANCODE_PAGEDOWN,
    /* 123 */ SDL_SCANCODE_F1,
    /* 124 */ SDL_SCANCODE_LEFT,
    /* 125 */ SDL_SCANCODE_RIGHT,
    /* 126 */ SDL_SCANCODE_DOWN,
    /* 127 */ SDL_SCANCODE_UP,
    /* 128 */ SDL_SCANCODE_UNKNOWN,
    /* 129 */ SDL_SCANCODE_UNKNOWN,
    /* 130 */ SDL_SCANCODE_UNKNOWN,
    /* 131 */ SDL_SCANCODE_UNKNOWN,
    /* 132 */ SDL_SCANCODE_UNKNOWN,
    /* 133 */ SDL_SCANCODE_UNKNOWN,
    /* 134 */ SDL_SCANCODE_UNKNOWN,
    /* 135 */ SDL_SCANCODE_UNKNOWN,
    /* 136 */ SDL_SCANCODE_UNKNOWN,
    /* 137 */ SDL_SCANCODE_UNKNOWN,
    /* 138 */ SDL_SCANCODE_UNKNOWN,
    /* 139 */ SDL_SCANCODE_UNKNOWN,
    /* 140 */ SDL_SCANCODE_UNKNOWN,
    /* 141 */ SDL_SCANCODE_UNKNOWN,
    /* 142 */ SDL_SCANCODE_UNKNOWN,
    /* 143 */ SDL_SCANCODE_UNKNOWN,
    /* 144 */ SDL_SCANCODE_UNKNOWN,
    /* 145 */ SDL_SCANCODE_UNKNOWN,
    /* 146 */ SDL_SCANCODE_UNKNOWN,
    /* 147 */ SDL_SCANCODE_UNKNOWN,
    /* 148 */ SDL_SCANCODE_UNKNOWN,
    /* 149 */ SDL_SCANCODE_UNKNOWN,
    /* 150 */ SDL_SCANCODE_UNKNOWN,
    /* 151 */ SDL_SCANCODE_UNKNOWN,
    /* 152 */ SDL_SCANCODE_UNKNOWN,
    /* 153 */ SDL_SCANCODE_UNKNOWN,
    /* 154 */ SDL_SCANCODE_UNKNOWN,
    /* 155 */ SDL_SCANCODE_UNKNOWN,
    /* 156 */ SDL_SCANCODE_UNKNOWN,
    /* 157 */ SDL_SCANCODE_UNKNOWN,
    /* 158 */ SDL_SCANCODE_UNKNOWN,
    /* 159 */ SDL_SCANCODE_UNKNOWN,
    /* 160 */ SDL_SCANCODE_UNKNOWN,
    /* 161 */ SDL_SCANCODE_UNKNOWN,
    /* 162 */ SDL_SCANCODE_UNKNOWN,
    /* 163 */ SDL_SCANCODE_UNKNOWN,
    /* 164 */ SDL_SCANCODE_UNKNOWN,
    /* 165 */ SDL_SCANCODE_UNKNOWN,
    /* 166 */ SDL_SCANCODE_UNKNOWN,
    /* 167 */ SDL_SCANCODE_UNKNOWN,
    /* 168 */ SDL_SCANCODE_UNKNOWN,
    /* 169 */ SDL_SCANCODE_UNKNOWN,
    /* 170 */ SDL_SCANCODE_UNKNOWN,
    /* 171 */ SDL_SCANCODE_UNKNOWN,
    /* 172 */ SDL_SCANCODE_UNKNOWN,
    /* 173 */ SDL_SCANCODE_UNKNOWN,
    /* 174 */ SDL_SCANCODE_UNKNOWN,
    /* 175 */ SDL_SCANCODE_UNKNOWN,
    /* 176 */ SDL_SCANCODE_UNKNOWN,
    /* 177 */ SDL_SCANCODE_UNKNOWN,
    /* 178 */ SDL_SCANCODE_UNKNOWN,
    /* 179 */ SDL_SCANCODE_UNKNOWN,
    /* 180 */ SDL_SCANCODE_UNKNOWN,
    /* 181 */ SDL_SCANCODE_UNKNOWN,
    /* 182 */ SDL_SCANCODE_UNKNOWN,
    /* 183 */ SDL_SCANCODE_UNKNOWN,
    /* 184 */ SDL_SCANCODE_UNKNOWN,
    /* 185 */ SDL_SCANCODE_UNKNOWN,
    /* 186 */ SDL_SCANCODE_UNKNOWN,
    /* 187 */ SDL_SCANCODE_UNKNOWN,
    /* 188 */ SDL_SCANCODE_UNKNOWN,
    /* 189 */ SDL_SCANCODE_UNKNOWN,
    /* 190 */ SDL_SCANCODE_UNKNOWN,
    /* 191 */ SDL_SCANCODE_UNKNOWN,
    /* 192 */ SDL_SCANCODE_UNKNOWN,
    /* 193 */ SDL_SCANCODE_UNKNOWN,
    /* 194 */ SDL_SCANCODE_UNKNOWN,
    /* 195 */ SDL_SCANCODE_UNKNOWN,
    /* 196 */ SDL_SCANCODE_UNKNOWN,
    /* 197 */ SDL_SCANCODE_UNKNOWN,
    /* 198 */ SDL_SCANCODE_UNKNOWN,
    /* 199 */ SDL_SCANCODE_UNKNOWN,
    /* 200 */ SDL_SCANCODE_UNKNOWN,
    /* 201 */ SDL_SCANCODE_UNKNOWN,
    /* 202 */ SDL_SCANCODE_UNKNOWN,
    /* 203 */ SDL_SCANCODE_UNKNOWN,
    /* 204 */ SDL_SCANCODE_UNKNOWN,
    /* 205 */ SDL_SCANCODE_UNKNOWN,
    /* 206 */ SDL_SCANCODE_UNKNOWN,
    /* 207 */ SDL_SCANCODE_UNKNOWN,
    /* 208 */ SDL_SCANCODE_UNKNOWN,
    /* 209 */ SDL_SCANCODE_UNKNOWN,
    /* 210 */ SDL_SCANCODE_UNKNOWN,
    /* 211 */ SDL_SCANCODE_UNKNOWN,
    /* 212 */ SDL_SCANCODE_UNKNOWN,
    /* 213 */ SDL_SCANCODE_UNKNOWN,
    /* 214 */ SDL_SCANCODE_UNKNOWN,
    /* 215 */ SDL_SCANCODE_UNKNOWN,
    /* 216 */ SDL_SCANCODE_UNKNOWN,
    /* 217 */ SDL_SCANCODE_UNKNOWN,
    /* 218 */ SDL_SCANCODE_UNKNOWN,
    /* 219 */ SDL_SCANCODE_UNKNOWN,
    /* 220 */ SDL_SCANCODE_UNKNOWN,
    /* 221 */ SDL_SCANCODE_UNKNOWN,
    /* 222 */ SDL_SCANCODE_UNKNOWN,
    /* 223 */ SDL_SCANCODE_UNKNOWN,
    /* 224 */ SDL_SCANCODE_UNKNOWN,
    /* 225 */ SDL_SCANCODE_UNKNOWN,
    /* 226 */ SDL_SCANCODE_UNKNOWN,
    /* 227 */ SDL_SCANCODE_UNKNOWN,
    /* 228 */ SDL_SCANCODE_UNKNOWN,
    /* 229 */ SDL_SCANCODE_UNKNOWN,
    /* 230 */ SDL_SCANCODE_UNKNOWN,
    /* 231 */ SDL_SCANCODE_UNKNOWN,
    /* 232 */ SDL_SCANCODE_UNKNOWN,
    /* 233 */ SDL_SCANCODE_UNKNOWN,
    /* 234 */ SDL_SCANCODE_UNKNOWN,
    /* 235 */ SDL_SCANCODE_UNKNOWN,
    /* 236 */ SDL_SCANCODE_UNKNOWN,
    /* 237 */ SDL_SCANCODE_UNKNOWN,
    /* 238 */ SDL_SCANCODE_UNKNOWN,
    /* 239 */ SDL_SCANCODE_UNKNOWN,
    /* 240 */ SDL_SCANCODE_UNKNOWN,
    /* 241 */ SDL_SCANCODE_UNKNOWN,
    /* 242 */ SDL_SCANCODE_UNKNOWN,
    /* 243 */ SDL_SCANCODE_UNKNOWN,
    /* 244 */ SDL_SCANCODE_UNKNOWN,
    /* 245 */ SDL_SCANCODE_UNKNOWN,
    /* 246 */ SDL_SCANCODE_UNKNOWN,
    /* 247 */ SDL_SCANCODE_UNKNOWN,
    /* 248 */ SDL_SCANCODE_UNKNOWN,
    /* 249 */ SDL_SCANCODE_UNKNOWN,
    /* 250 */ SDL_SCANCODE_UNKNOWN,
    /* 251 */ SDL_SCANCODE_UNKNOWN,
    /* 252 */ SDL_SCANCODE_UNKNOWN,
    /* 253 */ SDL_SCANCODE_UNKNOWN,
    /* 254 */ SDL_SCANCODE_UNKNOWN,
    /* 255 */ SDL_SCANCODE_UNKNOWN
};
#else
static const SDL_Scancode kNativeScanTable[256] = {
    /* 0 */ SDL_SCANCODE_UNKNOWN,
    /* 1 */ SDL_SCANCODE_UNKNOWN,
    /* 2 */ SDL_SCANCODE_UNKNOWN,
    /* 3 */ SDL_SCANCODE_UNKNOWN,
    /* 4 */ SDL_SCANCODE_UNKNOWN,
    /* 5 */ SDL_SCANCODE_UNKNOWN,
    /* 6 */ SDL_SCANCODE_UNKNOWN,
    /* 7 */ SDL_SCANCODE_UNKNOWN,
    /* 8 */ SDL_SCANCODE_UNKNOWN,
    /* 9 */ SDL_SCANCODE_ESCAPE,
    /* 10 */ SDL_SCANCODE_1,
    /* 11 */ SDL_SCANCODE_2,
    /* 12 */ SDL_SCANCODE_3,
    /* 13 */ SDL_SCANCODE_4,
    /* 14 */ SDL_SCANCODE_5,
    /* 15 */ SDL_SCANCODE_6,
    /* 16 */ SDL_SCANCODE_7,
    /* 17 */ SDL_SCANCODE_8,
    /* 18 */ SDL_SCANCODE_9,
    /* 19 */ SDL_SCANCODE_0,
    /* 20 */ SDL_SCANCODE_MINUS,
    /* 21 */ SDL_SCANCODE_EQUALS,
    /* 22 */ SDL_SCANCODE_BACKSPACE,
    /* 23 */ SDL_SCANCODE_TAB,
    /* 24 */ SDL_SCANCODE_Q,
    /* 25 */ SDL_SCANCODE_W, 
    /* 26 */ SDL_SCANCODE_E,
    /* 27 */ SDL_SCANCODE_R,
    /* 28 */ SDL_SCANCODE_T,
    /* 29 */ SDL_SCANCODE_Y,
    /* 30 */ SDL_SCANCODE_U,
    /* 31 */ SDL_SCANCODE_I,
    /* 32 */ SDL_SCANCODE_O,
    /* 33 */ SDL_SCANCODE_P,
    /* 34 */ SDL_SCANCODE_LEFTBRACKET,
    /* 35 */ SDL_SCANCODE_RIGHTBRACKET,
    /* 36 */ SDL_SCANCODE_RETURN,
    /* 37 */ SDL_SCANCODE_LCTRL,
    /* 38 */ SDL_SCANCODE_A, 
    /* 39 */ SDL_SCANCODE_S,
    /* 40 */ SDL_SCANCODE_D,
    /* 41 */ SDL_SCANCODE_F,
    /* 42 */ SDL_SCANCODE_G,
    /* 43 */ SDL_SCANCODE_H,
    /* 44 */ SDL_SCANCODE_J,
    /* 45 */ SDL_SCANCODE_K,
    /* 46 */ SDL_SCANCODE_L,
    /* 47 */ SDL_SCANCODE_SEMICOLON,
    /* 48 */ SDL_SCANCODE_APOSTROPHE,
    /* 49 */ SDL_SCANCODE_GRAVE,
    /* 50 */ SDL_SCANCODE_LSHIFT,
    /* 51 */ SDL_SCANCODE_BACKSLASH,
    /* 52 */ SDL_SCANCODE_Z,
    /* 53 */ SDL_SCANCODE_X,
    /* 54 */ SDL_SCANCODE_C,
    /* 55 */ SDL_SCANCODE_V,
    /* 56 */ SDL_SCANCODE_B,
    /* 57 */ SDL_SCANCODE_N,
    /* 58 */ SDL_SCANCODE_M,
    /* 59 */ SDL_SCANCODE_COMMA,
    /* 60 */ SDL_SCANCODE_PERIOD,
    /* 61 */ SDL_SCANCODE_SLASH,
    /* 62 */ SDL_SCANCODE_RSHIFT,
    /* 63 */ SDL_SCANCODE_KP_MULTIPLY,
    /* 64 */ SDL_SCANCODE_LALT,
    /* 65 */ SDL_SCANCODE_SPACE,
    /* 66 */ SDL_SCANCODE_CAPSLOCK,
    /* 67 */ SDL_SCANCODE_F1,
    /* 68 */ SDL_SCANCODE_F2,
    /* 69 */ SDL_SCANCODE_F3,
    /* 70 */ SDL_SCANCODE_F4,
    /* 71 */ SDL_SCANCODE_F5,
    /* 72 */ SDL_SCANCODE_F6,
    /* 73 */ SDL_SCANCODE_F7,
    /* 74 */ SDL_SCANCODE_F8,
    /* 75 */ SDL_SCANCODE_F9,
    /* 76 */ SDL_SCANCODE_F10,
    /* 77 */ SDL_SCANCODE_NUMLOCKCLEAR,
    /* 78 */ SDL_SCANCODE_SCROLLLOCK,
    /* 79 */ SDL_SCANCODE_KP_7,
    /* 80 */ SDL_SCANCODE_KP_8,
    /* 81 */ SDL_SCANCODE_KP_9,
    /* 82 */ SDL_SCANCODE_KP_MINUS,
    /* 83 */ SDL_SCANCODE_KP_4,
    /* 84 */ SDL_SCANCODE_KP_5,
    /* 85 */ SDL_SCANCODE_KP_6,
    /* 86 */ SDL_SCANCODE_KP_PLUS,
    /* 87 */ SDL_SCANCODE_KP_1,
    /* 88 */ SDL_SCANCODE_KP_2,
    /* 89 */ SDL_SCANCODE_KP_3,
    /* 90 */ SDL_SCANCODE_KP_0,
    /* 91 */ SDL_SCANCODE_KP_PERIOD,
    /* 92 */ SDL_SCANCODE_UNKNOWN,
    /* 93 */ SDL_SCANCODE_UNKNOWN,
    /* 94 */ SDL_SCANCODE_NONUSBACKSLASH,
    /* 95 */ SDL_SCANCODE_F11,
    /* 96 */ SDL_SCANCODE_F12,
    /* 97 */ SDL_SCANCODE_UNKNOWN,
    /* 98 */ SDL_SCANCODE_UNKNOWN,
    /* 99 */ SDL_SCANCODE_UNKNOWN,
    /* 100 */ SDL_SCANCODE_UNKNOWN,
    /* 101 */ SDL_SCANCODE_UNKNOWN,
    /* 102 */ SDL_SCANCODE_UNKNOWN,
    /* 103 */ SDL_SCANCODE_UNKNOWN,
    /* 104 */ SDL_SCANCODE_KP_ENTER,
    /* 105 */ SDL_SCANCODE_RCTRL,
    /* 106 */ SDL_SCANCODE_KP_DIVIDE,
    /* 107 */ SDL_SCANCODE_UNKNOWN,
    /* 108 */ SDL_SCANCODE_RALT,
    /* 109 */ SDL_SCANCODE_UNKNOWN,
    /* 110 */ SDL_SCANCODE_HOME,
    /* 111 */ SDL_SCANCODE_UP,
    /* 112 */ SDL_SCANCODE_PAGEUP,
    /* 113 */ SDL_SCANCODE_LEFT,
    /* 114 */ SDL_SCANCODE_RIGHT,
    /* 115 */ SDL_SCANCODE_END,
    /* 116 */ SDL_SCANCODE_DOWN,
    /* 117 */ SDL_SCANCODE_PAGEDOWN,
    /* 118 */ SDL_SCANCODE_INSERT,
    /* 119 */ SDL_SCANCODE_DELETE,
    /* 120 */ SDL_SCANCODE_UNKNOWN,
    /* 121 */ SDL_SCANCODE_UNKNOWN,
    /* 122 */ SDL_SCANCODE_UNKNOWN,
    /* 123 */ SDL_SCANCODE_UNKNOWN,
    /* 124 */ SDL_SCANCODE_UNKNOWN,
    /* 125 */ SDL_SCANCODE_UNKNOWN,
    /* 126 */ SDL_SCANCODE_UNKNOWN,
    /* 127 */ SDL_SCANCODE_PAUSE,
    /* 128 */ SDL_SCANCODE_UNKNOWN,
    /* 129 */ SDL_SCANCODE_UNKNOWN,
    /* 130 */ SDL_SCANCODE_UNKNOWN,
    /* 131 */ SDL_SCANCODE_UNKNOWN,
    /* 132 */ SDL_SCANCODE_UNKNOWN,
    /* 133 */ SDL_SCANCODE_LGUI,
    /* 134 */ SDL_SCANCODE_RGUI,
    /* 135 */ SDL_SCANCODE_APPLICATION,
    /* 136 */ SDL_SCANCODE_UNKNOWN,
    /* 137 */ SDL_SCANCODE_UNKNOWN,
    /* 138 */ SDL_SCANCODE_UNKNOWN,
    /* 139 */ SDL_SCANCODE_UNKNOWN,
    /* 140 */ SDL_SCANCODE_UNKNOWN,
    /* 141 */ SDL_SCANCODE_UNKNOWN,
    /* 142 */ SDL_SCANCODE_UNKNOWN,
    /* 143 */ SDL_SCANCODE_UNKNOWN,
    /* 144 */ SDL_SCANCODE_UNKNOWN,
    /* 145 */ SDL_SCANCODE_UNKNOWN,
    /* 146 */ SDL_SCANCODE_UNKNOWN,
    /* 147 */ SDL_SCANCODE_UNKNOWN,
    /* 148 */ SDL_SCANCODE_UNKNOWN,
    /* 149 */ SDL_SCANCODE_UNKNOWN,
    /* 150 */ SDL_SCANCODE_UNKNOWN,
    /* 151 */ SDL_SCANCODE_UNKNOWN,
    /* 152 */ SDL_SCANCODE_UNKNOWN,
    /* 153 */ SDL_SCANCODE_UNKNOWN,
    /* 154 */ SDL_SCANCODE_UNKNOWN,
    /* 155 */ SDL_SCANCODE_UNKNOWN,
    /* 156 */ SDL_SCANCODE_UNKNOWN,
    /* 157 */ SDL_SCANCODE_UNKNOWN,
    /* 158 */ SDL_SCANCODE_UNKNOWN,
    /* 159 */ SDL_SCANCODE_UNKNOWN,
    /* 160 */ SDL_SCANCODE_UNKNOWN,
    /* 161 */ SDL_SCANCODE_UNKNOWN,
    /* 162 */ SDL_SCANCODE_UNKNOWN,
    /* 163 */ SDL_SCANCODE_UNKNOWN,
    /* 164 */ SDL_SCANCODE_UNKNOWN,
    /* 165 */ SDL_SCANCODE_UNKNOWN,
    /* 166 */ SDL_SCANCODE_UNKNOWN,
    /* 167 */ SDL_SCANCODE_UNKNOWN,
    /* 168 */ SDL_SCANCODE_UNKNOWN,
    /* 169 */ SDL_SCANCODE_UNKNOWN,
    /* 170 */ SDL_SCANCODE_UNKNOWN,
    /* 171 */ SDL_SCANCODE_UNKNOWN,
    /* 172 */ SDL_SCANCODE_UNKNOWN,
    /* 173 */ SDL_SCANCODE_UNKNOWN,
    /* 174 */ SDL_SCANCODE_UNKNOWN,
    /* 175 */ SDL_SCANCODE_UNKNOWN,
    /* 176 */ SDL_SCANCODE_UNKNOWN,
    /* 177 */ SDL_SCANCODE_UNKNOWN,
    /* 178 */ SDL_SCANCODE_UNKNOWN,
    /* 179 */ SDL_SCANCODE_UNKNOWN,
    /* 180 */ SDL_SCANCODE_UNKNOWN,
    /* 181 */ SDL_SCANCODE_UNKNOWN,
    /* 182 */ SDL_SCANCODE_UNKNOWN,
    /* 183 */ SDL_SCANCODE_UNKNOWN,
    /* 184 */ SDL_SCANCODE_UNKNOWN,
    /* 185 */ SDL_SCANCODE_UNKNOWN,
    /* 186 */ SDL_SCANCODE_UNKNOWN,
    /* 187 */ SDL_SCANCODE_UNKNOWN,
    /* 188 */ SDL_SCANCODE_UNKNOWN,
    /* 189 */ SDL_SCANCODE_UNKNOWN,
    /* 190 */ SDL_SCANCODE_UNKNOWN,
    /* 191 */ SDL_SCANCODE_UNKNOWN,
    /* 192 */ SDL_SCANCODE_UNKNOWN,
    /* 193 */ SDL_SCANCODE_UNKNOWN,
    /* 194 */ SDL_SCANCODE_UNKNOWN,
    /* 195 */ SDL_SCANCODE_UNKNOWN,
    /* 196 */ SDL_SCANCODE_UNKNOWN,
    /* 197 */ SDL_SCANCODE_UNKNOWN,
    /* 198 */ SDL_SCANCODE_UNKNOWN,
    /* 199 */ SDL_SCANCODE_UNKNOWN,
    /* 200 */ SDL_SCANCODE_UNKNOWN,
    /* 201 */ SDL_SCANCODE_UNKNOWN,
    /* 202 */ SDL_SCANCODE_UNKNOWN,
    /* 203 */ SDL_SCANCODE_UNKNOWN,
    /* 204 */ SDL_SCANCODE_UNKNOWN,
    /* 205 */ SDL_SCANCODE_UNKNOWN,
    /* 206 */ SDL_SCANCODE_UNKNOWN,
    /* 207 */ SDL_SCANCODE_UNKNOWN,
    /* 208 */ SDL_SCANCODE_UNKNOWN,
    /* 209 */ SDL_SCANCODE_UNKNOWN,
    /* 210 */ SDL_SCANCODE_UNKNOWN,
    /* 211 */ SDL_SCANCODE_UNKNOWN,
    /* 212 */ SDL_SCANCODE_UNKNOWN,
    /* 213 */ SDL_SCANCODE_UNKNOWN,
    /* 214 */ SDL_SCANCODE_UNKNOWN,
    /* 215 */ SDL_SCANCODE_UNKNOWN,
    /* 216 */ SDL_SCANCODE_UNKNOWN,
    /* 217 */ SDL_SCANCODE_UNKNOWN,
    /* 218 */ SDL_SCANCODE_UNKNOWN,
    /* 219 */ SDL_SCANCODE_UNKNOWN,
    /* 220 */ SDL_SCANCODE_UNKNOWN,
    /* 221 */ SDL_SCANCODE_UNKNOWN,
    /* 222 */ SDL_SCANCODE_UNKNOWN,
    /* 223 */ SDL_SCANCODE_UNKNOWN,
    /* 224 */ SDL_SCANCODE_UNKNOWN,
    /* 225 */ SDL_SCANCODE_UNKNOWN,
    /* 226 */ SDL_SCANCODE_UNKNOWN,
    /* 227 */ SDL_SCANCODE_UNKNOWN,
    /* 228 */ SDL_SCANCODE_UNKNOWN,
    /* 229 */ SDL_SCANCODE_UNKNOWN,
    /* 230 */ SDL_SCANCODE_UNKNOWN,
    /* 231 */ SDL_SCANCODE_UNKNOWN,
    /* 232 */ SDL_SCANCODE_UNKNOWN,
    /* 233 */ SDL_SCANCODE_UNKNOWN,
    /* 234 */ SDL_SCANCODE_UNKNOWN,
    /* 235 */ SDL_SCANCODE_UNKNOWN,
    /* 236 */ SDL_SCANCODE_UNKNOWN,
    /* 237 */ SDL_SCANCODE_UNKNOWN,
    /* 238 */ SDL_SCANCODE_UNKNOWN,
    /* 239 */ SDL_SCANCODE_UNKNOWN,
    /* 240 */ SDL_SCANCODE_UNKNOWN,
    /* 241 */ SDL_SCANCODE_UNKNOWN,
    /* 242 */ SDL_SCANCODE_UNKNOWN,
    /* 243 */ SDL_SCANCODE_UNKNOWN,
    /* 244 */ SDL_SCANCODE_UNKNOWN,
    /* 245 */ SDL_SCANCODE_UNKNOWN,
    /* 246 */ SDL_SCANCODE_UNKNOWN,
    /* 247 */ SDL_SCANCODE_UNKNOWN,
    /* 248 */ SDL_SCANCODE_UNKNOWN,
    /* 249 */ SDL_SCANCODE_UNKNOWN,
    /* 250 */ SDL_SCANCODE_UNKNOWN,
    /* 251 */ SDL_SCANCODE_UNKNOWN,
    /* 252 */ SDL_SCANCODE_UNKNOWN,
    /* 253 */ SDL_SCANCODE_UNKNOWN,
    /* 254 */ SDL_SCANCODE_UNKNOWN,
    /* 255 */ SDL_SCANCODE_UNKNOWN
};
#endif

} // namespace

LikeSdlScancodeMapper& LikeSdlScancodeMapper::instance()
{
    static LikeSdlScancodeMapper s_instance;
    return s_instance;
}

LikeSdlScancodeMapper::LikeSdlScancodeMapper()
{
}

bool LikeSdlScancodeMapper::initialize()
{
    if (m_initialized) {
        return true;
    }

    buildScancodeTables();
    m_initialized = true;
    return true;
}

const char* LikeSdlScancodeMapper::scancodeToToken(SDL_Scancode scancode) const
{
    if (scancode < 0 || scancode >= m_scancodeTokens.size()) {
        return nullptr;
    }

    return m_scancodeTokens.at(scancode);
}

SDL_Scancode LikeSdlScancodeMapper::tokenToScancode(const QString& token) const
{
    const QString normalized = normalizeToken(token);
    if (normalized.isEmpty()) {
        return SDL_SCANCODE_UNKNOWN;
    }

    auto it = m_tokenToScancode.constFind(normalized);
    if (it == m_tokenToScancode.constEnd()) {
        return SDL_SCANCODE_UNKNOWN;
    }
    return it.value();
}

SDL_Scancode LikeSdlScancodeMapper::nativeToScancode(uint32_t nativeScancode) const
{
    if (nativeScancode >= 256) {
#if defined(_WIN32)
        if(nativeScancode & 0x0000e000 == 0x0000e000) {
            return kNativeScanTable_2[nativeScancode & 0x000000ff];
        }
#endif
        return SDL_SCANCODE_UNKNOWN;
    }

    return kNativeScanTable[nativeScancode];
}

void LikeSdlScancodeMapper::buildScancodeTables()
{
    m_scancodeTokens.fill(nullptr, SDL_NUM_SCANCODES);
    m_tokenToScancode.clear();
    m_tokenToScancode.reserve(std::size(kScancodeTokenPairs));

    for (const auto& entry : kScancodeTokenPairs) {
        if (entry.scancode >= 0 && entry.scancode < m_scancodeTokens.size()) {
            m_scancodeTokens[entry.scancode] = entry.token;
        }
        const QString tokenKey = QString::fromLatin1(entry.token);
        m_tokenToScancode.insert(tokenKey, entry.scancode);
    }
}

QString LikeSdlScancodeMapper::normalizeToken(const QString& token) const
{
    QString normalized = token.trimmed().toUpper();
    if (normalized.isEmpty()) {
        return normalized;
    }

    static const QString prefix = QStringLiteral("SDL_SCANCODE_");
    if (!normalized.startsWith(prefix)) {
        normalized.prepend(prefix);
    }
    return normalized;
}

QStringList LikeSdlScancodeMapper::nativeToModifiers(SDL_Keymod nativeMod) const
{
    QStringList modifiers;
    
    // Check for combined modifiers first
    if ((nativeMod & KMOD_LSHIFT) && (nativeMod & KMOD_RSHIFT)) {
        modifiers.append(QStringLiteral("KMOD_SHIFT"));
    } else {
        if (nativeMod & KMOD_LSHIFT) {
            modifiers.append(QStringLiteral("KMOD_LSHIFT"));
        }
        if (nativeMod & KMOD_RSHIFT) {
            modifiers.append(QStringLiteral("KMOD_RSHIFT"));
        }
    }
    
    if ((nativeMod & KMOD_LCTRL) && (nativeMod & KMOD_RCTRL)) {
        modifiers.append(QStringLiteral("KMOD_CTRL"));
    } else {
        if (nativeMod & KMOD_LCTRL) {
            modifiers.append(QStringLiteral("KMOD_LCTRL"));
        }
        if (nativeMod & KMOD_RCTRL) {
            modifiers.append(QStringLiteral("KMOD_RCTRL"));
        }
    }
    
    if ((nativeMod & KMOD_LALT) && (nativeMod & KMOD_RALT)) {
        modifiers.append(QStringLiteral("KMOD_ALT"));
    } else {
        if (nativeMod & KMOD_LALT) {
            modifiers.append(QStringLiteral("KMOD_LALT"));
        }
        if (nativeMod & KMOD_RALT) {
            modifiers.append(QStringLiteral("KMOD_RALT"));
        }
    }
    
    if ((nativeMod & KMOD_LGUI) && (nativeMod & KMOD_RGUI)) {
        modifiers.append(QStringLiteral("KMOD_GUI"));
    } else {
        if (nativeMod & KMOD_LGUI) {
            modifiers.append(QStringLiteral("KMOD_LGUI"));
        }
        if (nativeMod & KMOD_RGUI) {
            modifiers.append(QStringLiteral("KMOD_RGUI"));
        }
    }
    
    return modifiers;
}
